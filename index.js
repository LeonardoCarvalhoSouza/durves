!function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};t[s][0].call(p.exports,(function(e){return r(t[s][1][e]||e)}),p,p.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){var i=e("seed-random"),r=e("simplex-noise"),o=e("defined");t.exports=function e(t){t=o(t,null);var n,s,a,u=Math.random,c=null,p=!1;return f(t),{value:d,createRandom:function(t){return e(t)},setSeed:f,getSeed:function(){return n},getRandomSeed:function(){return String(Math.floor(1e6*Math.random()))},valueNonZero:function(){var e=0;for(;0===e;)e=d();return e},permuteNoise:function(){a=h()},noise1D:function(e,t,n){if(!isFinite(e))throw new TypeError("x component for noise() must be finite");return t=o(t,1),(n=o(n,1))*a.noise2D(e*t,0)},noise2D:function(e,t,n,i){if(!isFinite(e))throw new TypeError("x component for noise() must be finite");if(!isFinite(t))throw new TypeError("y component for noise() must be finite");return n=o(n,1),(i=o(i,1))*a.noise2D(e*n,t*n)},noise3D:function(e,t,n,i,r){if(!isFinite(e))throw new TypeError("x component for noise() must be finite");if(!isFinite(t))throw new TypeError("y component for noise() must be finite");if(!isFinite(n))throw new TypeError("z component for noise() must be finite");return i=o(i,1),(r=o(r,1))*a.noise3D(e*i,t*i,n*i)},noise4D:function(e,t,n,i,r,s){if(!isFinite(e))throw new TypeError("x component for noise() must be finite");if(!isFinite(t))throw new TypeError("y component for noise() must be finite");if(!isFinite(n))throw new TypeError("z component for noise() must be finite");if(!isFinite(i))throw new TypeError("w component for noise() must be finite");return r=o(r,1),(s=o(s,1))*a.noise4D(e*r,t*r,n*r,i*r)},sign:function(){return l()?1:-1},boolean:l,chance:function(e){if("number"!=typeof(e=o(e,.5)))throw new TypeError("expected n to be a number");return d()<e},range:m,rangeFloor:y,pick:function(e){return 0===e.length?void 0:e[y(0,e.length)]},shuffle:function(e){if(!Array.isArray(e))throw new TypeError("Expected Array, got "+typeof e);var t,n,i=e.length,r=e.slice();for(;i;)t=Math.floor(d()*i--),n=r[i],r[i]=r[t],r[t]=n;return r},onCircle:g,insideCircle:function(e,t){e=o(e,1),g(1,t=t||[]);var n=e*Math.sqrt(d());return t[0]*=n,t[1]*=n,t},onSphere:function(e,t){e=o(e,1),t=t||[];var n=d()*Math.PI*2,i=2*d()-1,r=n,s=Math.acos(i);return t[0]=e*Math.sin(s)*Math.cos(r),t[1]=e*Math.sin(s)*Math.sin(r),t[2]=e*Math.cos(s),t},insideSphere:function(e,t){e=o(e,1),t=t||[];var n=d()*Math.PI*2,i=2*d()-1,r=d(),s=n,a=Math.acos(i),u=e*Math.cbrt(r);return t[0]=u*Math.sin(a)*Math.cos(s),t[1]=u*Math.sin(a)*Math.sin(s),t[2]=u*Math.cos(a),t},quaternion:function(e){e=e||[];var t=d(),n=d(),i=d(),r=Math.sqrt(1-t),o=Math.sqrt(t),s=2*Math.PI*n,a=2*Math.PI*i,u=Math.sin(s)*r,c=Math.cos(s)*r,p=Math.sin(a)*o,f=Math.cos(a)*o;return e[0]=u,e[1]=c,e[2]=p,e[3]=f,e},weighted:w,weightedSet:function(e){return 0===(e=e||[]).length?null:e[v(e)].value},weightedSetIndex:v,gaussian:function(e,t){if(e=o(e,0),t=o(t,1),p){p=!1;var n=c;return c=null,e+t*n}var i=0,r=0,s=0;do{s=(i=2*d()-1)*i+(r=2*d()-1)*r}while(s>=1||0===s);var a=Math.sqrt(-2*Math.log(s)/s);return c=r*a,p=!0,e+t*(i*a)}};function f(e,t){"number"==typeof e||"string"==typeof e?s=i(n=e,t):(n=void 0,s=u),a=h(),c=null,p=!1}function d(){return s()}function h(){return new r(s)}function l(){return d()>.5}function m(e,t){if(void 0===t&&(t=e,e=0),"number"!=typeof e||"number"!=typeof t)throw new TypeError("Expected all arguments to be numbers");return d()*(t-e)+e}function y(e,t){if(void 0===t&&(t=e,e=0),"number"!=typeof e||"number"!=typeof t)throw new TypeError("Expected all arguments to be numbers");return Math.floor(m(e,t))}function g(e,t){e=o(e,1),t=t||[];var n=2*d()*Math.PI;return t[0]=e*Math.cos(n),t[1]=e*Math.sin(n),t}function v(e){return 0===(e=e||[]).length?-1:w(e.map((function(e){return e.weight})))}function w(e){if(0===(e=e||[]).length)return-1;var t,n=0;for(t=0;t<e.length;t++)n+=e[t];if(n<=0)throw new Error("Weights must sum to > 0");var i=d()*n;for(t=0;t<e.length;t++){if(i<e[t])return t;i-=e[t]}return 0}}()},{defined:3,"seed-random":4,"simplex-noise":5}],2:[function(e,t,n){(function(e){(function(){!function(e,i){"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.canvasSketch=i()}(this,(function(){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var r=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var p=0;p<s.length;p++)i.call(o,s[p])&&(a[s[p]]=o[s[p]])}}return a},o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function s(e,t){return e(t={exports:{}},t.exports),t.exports}var a=o.performance&&o.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},u=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then};var c=function(e){return!(!e||"object"!=typeof e)&&("object"==typeof window&&"object"==typeof window.Node?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName)};function p(){return"undefined"!=typeof window&&window["canvas-sketch-cli"]}function f(){for(var e=arguments,t=0;t<arguments.length;t++)if(null!=e[t])return e[t]}function d(){return"undefined"!=typeof document}function h(e){return e&&"function"==typeof e.save&&"function"==typeof e.scale&&"function"==typeof e.restore}var l,m=s((function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),y=s((function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r})),g=s((function(e){var t=Array.prototype.slice,n=e.exports=function(e,o,s){return s||(s={}),e===o||(e instanceof Date&&o instanceof Date?e.getTime()===o.getTime():!e||!o||"object"!=typeof e&&"object"!=typeof o?s.strict?e===o:e==o:function(e,o,s){var a,u;if(i(e)||i(o))return!1;if(e.prototype!==o.prototype)return!1;if(y(e))return!!y(o)&&(e=t.call(e),o=t.call(o),n(e,o,s));if(r(e)){if(!r(o))return!1;if(e.length!==o.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==o[a])return!1;return!0}try{var c=m(e),p=m(o)}catch(e){return!1}if(c.length!=p.length)return!1;for(c.sort(),p.sort(),a=c.length-1;a>=0;a--)if(c[a]!=p[a])return!1;for(a=c.length-1;a>=0;a--)if(!n(e[u=c[a]],o[u],s))return!1;return typeof e==typeof o}(e,o,s))};function i(e){return null==e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}})),v=s((function(e,t){!function(t){var n,i,r,o=(n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,function(e,t,a,u){if(1!==arguments.length||"string"!==(null===(c=e)?"null":void 0===c?"undefined":"object"!=typeof c?typeof c:Array.isArray(c)?"array":{}.toString.call(c).slice(8,-1).toLowerCase())||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var c,p=(t=String(o.masks[t]||t||o.masks.default)).slice(0,4);"UTC:"!==p&&"GMT:"!==p||(t=t.slice(4),a=!0,"GMT:"===p&&(u=!0));var f=a?"getUTC":"get",d=e[f+"Date"](),h=e[f+"Day"](),l=e[f+"Month"](),m=e[f+"FullYear"](),y=e[f+"Hours"](),g=e[f+"Minutes"](),v=e[f+"Seconds"](),w=e[f+"Milliseconds"](),b=a?0:e.getTimezoneOffset(),x=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=t.getTimezoneOffset()-n.getTimezoneOffset();return t.setHours(t.getHours()-i),1+Math.floor((t-n)/6048e5)}(e),M=function(e){var t=e.getDay();return 0===t&&(t=7),t}(e),_={d:d,dd:s(d),ddd:o.i18n.dayNames[h],dddd:o.i18n.dayNames[h+7],m:l+1,mm:s(l+1),mmm:o.i18n.monthNames[l],mmmm:o.i18n.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:y%12||12,hh:s(y%12||12),H:y,HH:s(y),M:g,MM:s(g),s:v,ss:s(v),l:s(w,3),L:s(Math.round(w/10)),t:y<12?o.i18n.timeNames[0]:o.i18n.timeNames[1],tt:y<12?o.i18n.timeNames[2]:o.i18n.timeNames[3],T:y<12?o.i18n.timeNames[4]:o.i18n.timeNames[5],TT:y<12?o.i18n.timeNames[6]:o.i18n.timeNames[7],Z:u?"GMT":a?"UTC":(String(e).match(i)||[""]).pop().replace(r,""),o:(b>0?"-":"+")+s(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:x,N:M};return t.replace(n,(function(e){return e in _?_[e]:e.slice(1,e.length-1)}))});function s(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},e.exports=o}()})),w="",b=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(l!==e||void 0===l)l=e,w="";else if(w.length>=n)return w.substr(0,n);for(;n>w.length&&t>1;)1&t&&(w+=e),t>>=1,e+=e;return w=(w+=e).substr(0,n)};var x,M=function(e,t,n){return e=e.toString(),void 0===t?e:(n=0===n?"0":n?n.toString():" ",b(n,t-e.length)+e)},_=function(){},S={extension:"",prefix:"",suffix:""},E=["image/png","image/jpeg","image/webp"];function T(e,t){return void 0===t&&(t={}),new Promise((function(n,i){t=r({},S,t);var o=R(Object.assign({},t,{extension:"",frame:void 0})),s=e?"streamStart":"streamEnd",a=p();return a&&a.output&&"function"==typeof a[s]?a[s](r({},t,{filename:o})).then((function(e){return n(e)})):n({filename:o,client:!1})}))}function k(e,t){return void 0===t&&(t={}),function(e){return new Promise((function(t){var n=e.indexOf(",");if(-1!==n){for(var i=e.slice(n+1),r=window.atob(i),o=e.slice(0,n),s=/data:([^;]+)/.exec(o),a=(s?s[1]:"")||void 0,u=new ArrayBuffer(r.length),c=new Uint8Array(u),p=0;p<r.length;p++)c[p]=r.charCodeAt(p);t(new window.Blob([u],{type:a}))}else t(new window.Blob)}))}(e).then((function(e){return F(e,t)}))}function F(e,t){return void 0===t&&(t={}),new Promise((function(n){var i=(t=r({},S,t)).filename,o=p();if(o&&"function"==typeof o.saveBlob&&o.output)return o.saveBlob(e,r({},t,{filename:i})).then((function(e){return n(e)}));x||((x=document.createElement("a")).style.visibility="hidden",x.target="_blank"),x.download=i,x.href=window.URL.createObjectURL(e),document.body.appendChild(x),x.onclick=function(){x.onclick=_,setTimeout((function(){window.URL.revokeObjectURL(e),x.parentElement&&x.parentElement.removeChild(x),x.removeAttribute("href"),n({filename:i,client:!1})}))},x.click()}))}function R(e){if(void 0===e&&(e={}),"function"==typeof(e=r({},e)).file)return e.file(e);if(e.file)return e.file;var t,n=null,i="";("string"==typeof e.extension&&(i=e.extension),"number"==typeof e.frame)&&(t="number"==typeof e.totalFrames?e.totalFrames:Math.max(1e4,e.frame),n=M(String(e.frame),String(t).length,"0"));var o=isFinite(e.totalLayers)&&isFinite(e.layer)&&e.totalLayers>1?""+e.layer:"";return null!=n?[o,n].filter(Boolean).join("-")+i:[e.prefix,e.name||e.timeStamp,o,e.hash,e.suffix].filter(Boolean).join("-")+i}var P={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},j=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],C=function(e){Object.keys(e).forEach((function(e){e in P?console.warn('[canvas-sketch] Could not recognize the setting "'+e+'", did you mean "'+P[e]+'"?'):j.includes(e)||console.warn('[canvas-sketch] Could not recognize the setting "'+e+'"')}))};var D=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]].reduce((function(e,t){var n={units:t[3]||"mm",dimensions:[t[1],t[2]]};return e[t[0]]=n,e[t[0].replace(/-/g," ")]=n,e}),{}),z=["mm","cm","m","pc","pt","in","ft","px"],O={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const A={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};var I=function(e,t,n,i){if("number"!=typeof e||!isFinite(e))throw new Error("Value must be a finite number");if(!t||!n)throw new Error("Must specify from and to units");var r=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}((i=i||{}).pixelsPerInch,96),o=i.precision,s=!1!==i.roundPixel;if(t=t.toLowerCase(),n=n.toLowerCase(),-1===z.indexOf(t))throw new Error('Invalid from unit "'+t+'", must be one of: '+z.join(", "));if(-1===z.indexOf(n))throw new Error('Invalid from unit "'+n+'", must be one of: '+z.join(", "));if(t===n)return e;var a=1,u=1,c=!1;"px"===t&&(u=1/r,t="in"),"px"===n&&(c=!0,a=r,n="in");var p=O[t],f=O[n],d=e*p.factor*u;p.system!==f.system&&(d*=A[p.system].ratio);var h=d/f.factor*a;return c&&s?h=Math.round(h):"number"==typeof o&&isFinite(o)&&(h=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}(h,o)),h};function N(e,t,n,i){return void 0===t&&(t="px"),void 0===n&&(n="px"),void 0===i&&(i=72),I(e,t,n,{pixelsPerInch:i,precision:4,roundPixel:!0})}function H(e,t){var n,i,r,o,s,a,u=d(),c=t.dimensions,p=function(e){return!(!e.dimensions||"string"!=typeof e.dimensions&&!(Array.isArray(e.dimensions)&&e.dimensions.length>=2))}(t),h=e.exporting,l=!!p&&!1!==t.scaleToFit,m=!(!h&&p)||t.scaleToView;u||(l=m=!1);var y,g,v=t.units,w="number"==typeof t.pixelsPerInch&&isFinite(t.pixelsPerInch)?t.pixelsPerInch:72,b=f(t.bleed,0),x=u?window.devicePixelRatio:1,M=m?x:1;"number"==typeof t.pixelRatio&&isFinite(t.pixelRatio)?g=f(t.exportPixelRatio,y=t.pixelRatio):p?(y=M,g=f(t.exportPixelRatio,1)):g=f(t.exportPixelRatio,y=x),"number"==typeof t.maxPixelRatio&&isFinite(t.maxPixelRatio)&&(y=Math.min(t.maxPixelRatio,y)),h&&(y=g);var _,S,E=function(e,t){if(!d())return[300,150];var n=t.parent||window;if(n===window||n===document||n===document.body)return[window.innerWidth,window.innerHeight];var i=n.getBoundingClientRect();return[i.width,i.height]}(0,t),T=E[0],k=E[1];if(p){var F=function(e,t,n){if(void 0===t&&(t="px"),void 0===n&&(n=72),"string"==typeof e){var i=e.toLowerCase();if(!(i in D))throw new Error('The dimension preset "'+e+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var r=D[i];return r.dimensions.map((function(e){return N(e,r.units,t,n)}))}return e}(c,v,w),R=Math.max(F[0],F[1]),P=Math.min(F[0],F[1]);if(t.orientation){var j="landscape"===t.orientation;n=j?R:P,i=j?P:R}else n=F[0],i=F[1];_=n,S=i,n+=2*b,i+=2*b}else _=n=T,S=i=k;var C=n,z=i;if(p&&v&&(C=N(n,v,"px",w),z=N(i,v,"px",w)),r=Math.round(C),o=Math.round(z),l&&!h&&p){var O=n/i,A=T/k,I=f(t.scaleToFitPadding,40),H=Math.round(T-2*I),L=Math.round(k-2*I);(r>H||o>L)&&(A>O?(o=L,r=Math.round(o*O)):(r=H,o=Math.round(r/O)))}return{bleed:b,pixelRatio:y,width:n,height:i,dimensions:[n,i],units:v||"px",scaleX:(s=m?Math.round(y*r):Math.round(y*C))/n,scaleY:(a=m?Math.round(y*o):Math.round(y*z))/i,pixelsPerInch:w,viewportWidth:m?Math.round(r):Math.round(C),viewportHeight:m?Math.round(o):Math.round(z),canvasWidth:s,canvasHeight:a,trimWidth:_,trimHeight:S,styleWidth:r,styleHeight:o}}I.units=z;var L=function(e,t){if("string"!=typeof e)throw new TypeError("must specify type string");if(t=t||{},"undefined"==typeof document&&!t.canvas)return null;var n=t.canvas||document.createElement("canvas");"number"==typeof t.width&&(n.width=t.width);"number"==typeof t.height&&(n.height=t.height);var i,r=t;try{var o=[e];0===e.indexOf("webgl")&&o.push("experimental-"+e);for(var s=0;s<o.length;s++)if(i=n.getContext(o[s],r))return i}catch(e){i=null}return i||null};function q(e){var t,n;void 0===e&&(e={});var i=!1;if(!1!==e.canvas){if(!(t=e.context)||"string"==typeof t){var o=e.canvas;o||(o=function(){if(!d())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}(),i=!0);var s=t||"2d";if("function"!=typeof o.getContext)throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(!(t=L(s,r({},e.attributes,{canvas:o}))))throw new Error("Failed at canvas.getContext('"+s+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(n=t.canvas,e.canvas&&n!==e.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");e.pixelated&&(t.imageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.oImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,n.style["image-rendering"]="pixelated")}return{canvas:n,context:t,ownsCanvas:i}}var B=function(){var e=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._recordTimeout=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=function(e){void 0===e&&(e={});var t=function(t){if(e.enabled()){var n=p();83!==t.keyCode||t.altKey||!t.metaKey&&!t.ctrlKey?32===t.keyCode?e.togglePlay(t):n&&!t.altKey&&75===t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e.commit(t)):(t.preventDefault(),e.save(t))}};return{attach:function(){window.addEventListener("keydown",t)},detach:function(){window.removeEventListener("keydown",t)}}}({enabled:function(){return!1!==e.settings.hotkeys},save:function(t){t.shiftKey?e.props.recording?(e.endRecord(),e.run()):e.record():e.props.recording||e.exportFrame()},togglePlay:function(){e.props.playing?e.pause():e.play()},commit:function(t){e.exportFrame({commit:!0})}}),this._animateHandler=function(){return e.animate()},this._resizeHandler=function(){e.resize()&&e.render()}},U={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};U.sketch.get=function(){return this._sketch},U.settings.get=function(){return this._settings},U.props.get=function(){return this._props},B.prototype._computePlayhead=function(e,t){return"number"==typeof t&&isFinite(t)?e/t:0},B.prototype._computeFrame=function(e,t,n,i){return isFinite(n)&&n>1?Math.floor(e*(n-1)):Math.floor(i*t)},B.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},B.prototype._getSizeProps=function(){var e=this.props;return{width:e.width,height:e.height,pixelRatio:e.pixelRatio,canvasWidth:e.canvasWidth,canvasHeight:e.canvasHeight,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight}},B.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return!1!==this.settings.playing&&this.play(),"function"==typeof this.sketch.dispose&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},B.prototype._cancelTimeouts=function(){null!=this._raf&&"undefined"!=typeof window&&"function"==typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame(this._raf),this._raf=null),null!=this._recordTimeout&&(clearTimeout(this._recordTimeout),this._recordTimeout=null)},B.prototype.play=function(){var e=this.settings.animate;"animation"in this.settings&&(e=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),e&&(d()?this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,this._cancelTimeouts(),this._lastTime=a(),this._raf=window.requestAnimationFrame(this._animateHandler)):console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported"))},B.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,this._cancelTimeouts()},B.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},B.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},B.prototype.record=function(){var e=this;if(!this.props.recording)if(d()){this.stop(),this.props.playing=!0,this.props.recording=!0;var t=this._createExportOptions({sequence:!0}),n=1/this.props.fps;this._cancelTimeouts();var i,r=function(){return e.props.recording?(e.props.deltaTime=n,e.tick(),e.exportFrame(t).then((function(){e.props.recording&&(e.props.deltaTime=0,e.props.frame++,e.props.frame<e.props.totalFrames?(e.props.time+=n,e.props.playhead=e._computePlayhead(e.props.time,e.props.duration),e._recordTimeout=setTimeout(r,0)):(console.log("Finished recording"),e._signalEnd(),e.endRecord(),e.stop(),e.run()))}))):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),this.sketch&&"function"==typeof this.sketch.beginRecord&&this._wrapContextScale((function(t){return e.sketch.beginRecord(t)})),(i=t,void 0===i&&(i={}),T(!0,i)).catch((function(e){console.error(e)})).then((function(t){e._raf=window.requestAnimationFrame(r)}))}else console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported")},B.prototype._signalBegin=function(){var e=this;this.sketch&&"function"==typeof this.sketch.begin&&this._wrapContextScale((function(t){return e.sketch.begin(t)}))},B.prototype._signalEnd=function(){var e=this;this.sketch&&"function"==typeof this.sketch.end&&this._wrapContextScale((function(t){return e.sketch.end(t)}))},B.prototype.endRecord=function(){var e,t=this,n=this.props.recording;return this._cancelTimeouts(),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,(void 0===e&&(e={}),T(!1,e)).catch((function(e){console.error(e)})).then((function(){n&&t.sketch&&"function"==typeof t.sketch.endRecord&&t._wrapContextScale((function(e){return t.sketch.endRecord(e)}))}))},B.prototype._createExportOptions=function(e){return void 0===e&&(e={}),{sequence:e.sequence,save:e.save,fps:this.props.fps,frame:e.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:e.timeStamp||v(new Date,"yyyy.mm.dd-HH.MM.ss"),totalFrames:isFinite(this.props.totalFrames)?Math.max(0,this.props.totalFrames):1e3}},B.prototype.exportFrame=function(e){var t=this;if(void 0===e&&(e={}),!this.sketch)return Promise.all([]);"function"==typeof this.sketch.preExport&&this.sketch.preExport();var n=this._createExportOptions(e),i=p(),o=Promise.resolve();if(i&&e.commit&&"function"==typeof i.commit){var s=r({},n),a=i.commit(s);o=u(a)?a:Promise.resolve(a)}return o.then((function(e){return t._doExportFrame(r({},n,{hash:e||""}))})).then((function(e){return 1===e.length?e[0]:e}))},B.prototype._doExportFrame=function(e){var t=this;void 0===e&&(e={}),this._props.exporting=!0,this.resize();var n=this.render();return void 0===n&&(n=[this.props.canvas]),n=(n=[].concat(n).filter(Boolean)).map((function(t){var n,i="object"==typeof t&&t&&("data"in t||"dataURL"in t),o=i?t.data:t,s=i?r({},t,{data:o}):{data:o};if(c(n=o)&&/canvas/i.test(n.nodeName)&&"function"==typeof n.getContext){var a=function(e,t){void 0===t&&(t={});var n=t.encoding||"image/png";if(!E.includes(n))throw new Error("Invalid canvas encoding "+n);var i=(n.split("/")[1]||"").replace(/jpeg/i,"jpg");return i&&(i=("."+i).toLowerCase()),{extension:i,type:n,dataURL:e.toDataURL(n,t.encodingQuality)}}(o,{encoding:s.encoding||e.encoding,encodingQuality:f(s.encodingQuality,e.encodingQuality,.95)});return Object.assign(s,{dataURL:a.dataURL,extension:a.extension,type:a.type})}return s})),this._props.exporting=!1,this.resize(),this.render(),Promise.all(n.map((function(t,n,i){var o=r({extension:"",prefix:"",suffix:""},e,t,{layer:n,totalLayers:i.length}),s=!1!==e.save&&t.save;for(var a in o.save=!1!==s,o.filename=R(o),delete o.encoding,delete o.encodingQuality,o)void 0===o[a]&&delete o[a];var u=Promise.resolve({});if(o.save){var c=o.data;if(o.dataURL)u=k(o.dataURL,o);else u=function(e,t){void 0===t&&(t={});var n=Array.isArray(e)?e:[e];return F(new window.Blob(n,{type:t.type||""}),t)}(c,o)}return u.then((function(e){return Object.assign({},o,e)}))}))).then((function(n){var i=n.filter((function(e){return e.save}));if(i.length>0){var r,o=i.find((function(e){return e.outputName})),s=i.some((function(e){return e.client})),a=i.some((function(e){return e.stream}));r=i.length>1?i.length:o?o.outputName+"/"+i[0].filename:""+i[0].filename;var u="";if(e.sequence)u=isFinite(t.props.totalFrames)?" (frame "+(e.frame+1)+" / "+t.props.totalFrames+")":" (frame "+e.frame+")";else i.length>1&&(u=" files");console.log("%c["+(s?"canvas-sketch-cli":"canvas-sketch")+"]%c "+(a?"Streaming into":"Exported")+" %c"+r+"%c"+u,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return"function"==typeof t.sketch.postExport&&t.sketch.postExport(),n}))},B.prototype._wrapContextScale=function(e){this._preRender(),e(this.props),this._postRender()},B.prototype._preRender=function(){var e=this.props;h(e.context)&&!e.p5?(e.context.save(),!1!==this.settings.scaleContext&&e.context.scale(e.scaleX,e.scaleY)):e.p5&&e.p5.scale(e.scaleX/e.pixelRatio,e.scaleY/e.pixelRatio)},B.prototype._postRender=function(){var e=this.props;h(e.context)&&!e.p5&&e.context.restore(),e.gl&&!1!==this.settings.flush&&!e.p5&&e.gl.flush()},B.prototype.tick=function(){this.sketch&&"function"==typeof this.sketch.tick&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},B.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},B.prototype.submitDrawCall=function(){if(this.sketch){var e,t=this.props;return this._preRender(),"function"==typeof this.sketch?e=this.sketch(t):"function"==typeof this.sketch.render&&(e=this.sketch.render(t)),this._postRender(),e}},B.prototype.update=function(e){var t=this;void 0===e&&(e={});var n=["animate"];Object.keys(e).forEach((function(e){if(n.indexOf(e)>=0)throw new Error("Sorry, the { "+e+" } option is not yet supported with update().")}));var i=this._settings.canvas,r=this._settings.context;for(var o in e){var s=e[o];void 0!==s&&(t._settings[o]=s)}var a=Object.assign({},this._settings,e);if("time"in e&&"frame"in e)throw new Error("You should specify { time } or { frame } but not both");if("time"in e?delete a.frame:"frame"in e&&delete a.time,"duration"in e&&"totalFrames"in e)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in e?delete a.totalFrames:"totalFrames"in e&&delete a.duration,"data"in e&&(this._props.data=e.data);var u=this.getTimeProps(a);if(Object.assign(this._props,u),i!==this._settings.canvas||r!==this._settings.context){var c=q(this._settings),p=c.context;this.props.canvas=c.canvas,this.props.context=p,this._setupGLKey(),this._appendCanvasIfNeeded()}return e.p5&&"function"!=typeof e.p5&&(this.props.p5=e.p5,this.props.p5.draw=function(){t._isP5Resizing||(t._lastRedrawResult=t.submitDrawCall())}),"playing"in e&&(e.playing?this.play():this.pause()),C(this._settings),this.resize(),this.render(),this.props},B.prototype.resize=function(){var e=this._getSizeProps(),t=this.settings,n=this.props,i=H(n,t);Object.assign(this._props,i);var r=this.props,o=r.pixelRatio,s=r.canvasWidth,a=r.canvasHeight,u=r.styleWidth,c=r.styleHeight,p=this.props.canvas;p&&!1!==t.resizeCanvas&&(n.p5?p.width===s&&p.height===a||(this._isP5Resizing=!0,n.p5.pixelDensity(o),n.p5.resizeCanvas(s/o,a/o,!1),this._isP5Resizing=!1):(p.width!==s&&(p.width=s),p.height!==a&&(p.height=a)),d()&&!1!==t.styleCanvas&&(p.style.width=u+"px",p.style.height=c+"px"));var f=this._getSizeProps(),h=!g(e,f);return h&&this._sizeChanged(),h},B.prototype._sizeChanged=function(){this.sketch&&"function"==typeof this.sketch.resize&&this.sketch.resize(this.props)},B.prototype.animate=function(){if(this.props.playing)if(d()){this._raf=window.requestAnimationFrame(this._animateHandler);var e=a(),t=1e3/this.props.fps,n=e-this._lastTime,i=this.props.duration,r="number"==typeof i&&isFinite(i),o=!0,s=this.settings.playbackRate;"fixed"===s?n=t:"throttle"===s?n>t?this._lastTime=e-=n%t:o=!1:this._lastTime=e;var u=n/1e3,c=this.props.time+u*this.props.timeScale;c<0&&r&&(c=i+c);var p=!1,f=!1;if(r&&c>=i&&(!1!==this.settings.loop?(o=!0,c%=i,f=!0):(o=!1,c=i,p=!0),this._signalEnd()),o){this.props.deltaTime=u,this.props.time=c,this.props.playhead=this._computePlayhead(c,i);var h=this.props.frame;this.props.frame=this._computeCurrentFrame(),f&&this._signalBegin(),h!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}p&&this.pause()}else console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported")},B.prototype.dispatch=function(e){if("function"!=typeof e)throw new Error("must pass function into dispatch()");e(this.props),this.render()},B.prototype.mount=function(){this._appendCanvasIfNeeded()},B.prototype.unmount=function(){d()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},B.prototype._appendCanvasIfNeeded=function(){d()&&(!1!==this.settings.parent&&this.props.canvas&&!this.props.canvas.parentElement&&(this.settings.parent||document.body).appendChild(this.props.canvas))},B.prototype._setupGLKey=function(){var e;this.props.context&&((e=this.props.context)&&"function"==typeof e.clear&&"function"==typeof e.clearColor&&"function"==typeof e.bufferData?this._props.gl=this.props.context:delete this._props.gl)},B.prototype.getTimeProps=function(e){void 0===e&&(e={});var t=e.duration,n=e.totalFrames,i=f(e.timeScale,1),r=f(e.fps,24),o="number"==typeof t&&isFinite(t),s="number"==typeof n&&isFinite(n),a=o?Math.floor(r*t):void 0,u=s?n/r:void 0;if(o&&s&&a!==n)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");void 0===e.dimensions&&void 0!==e.units&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),n=f(n,a,Infinity),t=f(t,u,Infinity);var c=e.time,p=e.frame,d="number"==typeof c&&isFinite(c),h="number"==typeof p&&isFinite(p),l=0,m=0,y=0;if(d&&h)throw new Error("You should specify either start frame or time, but not both.");return d?(y=this._computePlayhead(l=c,t),m=this._computeFrame(y,l,n,r)):h&&(y=this._computePlayhead(l=(m=p)/r,t)),{playhead:y,time:l,frame:m,duration:t,totalFrames:n,fps:r,timeScale:i}},B.prototype.setup=function(e){var t=this;if(void 0===e&&(e={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},e,this._settings),C(this._settings);var n=q(this._settings),i=n.context,r=n.canvas,o=this.getTimeProps(this._settings);this._props=Object.assign({},o,{canvas:r,context:i,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return t.render()},togglePlay:function(){return t.togglePlay()},dispatch:function(e){return t.dispatch(e)},tick:function(){return t.tick()},resize:function(){return t.resize()},update:function(e){return t.update(e)},exportFrame:function(e){return t.exportFrame(e)},record:function(){return t.record()},play:function(){return t.play()},pause:function(){return t.pause()},stop:function(){return t.stop()}}),this._setupGLKey(),this.resize()},B.prototype.loadAndRun=function(e,t){var n=this;return this.load(e,t).then((function(){return n.run(),n}))},B.prototype.unload=function(){var e=this;this.pause(),this.sketch&&("function"==typeof this.sketch.unload&&this._wrapContextScale((function(t){return e.sketch.unload(t)})),this._sketch=null)},B.prototype.destroy=function(){this.unload(),this.unmount()},B.prototype.load=function(e,t){var n=this;if("function"!=typeof e)throw new Error("The function must take in a function as the first parameter. Example:\n  canvasSketcher(() => { ... }, settings)");this.sketch&&this.unload(),void 0!==t&&this.update(t),this._preRender();var i=Promise.resolve();if(this.settings.p5){if(!d())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");i=new Promise((function(e){var t,i=n.settings.p5;i.p5&&(t=i.preload,i=i.p5);var r=function(i){t&&(i.preload=function(){return t(i)}),i.setup=function(){var t=n.props,r="webgl"===n.settings.context,o=r?i.WEBGL:i.P2D;i.noLoop(),i.pixelDensity(t.pixelRatio),i.createCanvas(t.viewportWidth,t.viewportHeight,o),r&&n.settings.attributes&&i.setAttributes(n.settings.attributes),n.update({p5:i,canvas:i.canvas,context:i._renderer.drawingContext}),e()}};if("function"==typeof i)new i(r);else{if("function"!=typeof window.createCanvas)throw new Error("{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\nnew p5(); // <-- attaches to global scope");r(window)}}))}return i.then((function(){var t=e(n.props);return u(t)||(t=Promise.resolve(t)),t})).then((function(e){return e||(e={}),n._sketch=e,d()&&(n._keyboardShortcuts.attach(),window.addEventListener("resize",n._resizeHandler)),n._postRender(),n._sizeChanged(),n})).catch((function(e){throw console.warn("Could not start sketch, the async loading function rejected with an error:\n    Error: "+e.message),e}))},Object.defineProperties(B.prototype,U);var W="hot-id-cache",Y=[];function K(e,t){if(void 0===t&&(t={}),t.p5){if(t.canvas||t.context&&"string"!=typeof t.context)throw new Error('In { p5 } mode, you can\'t pass your own canvas or context, unless the context is a "webgl" or "2d" string');t=Object.assign({},t,{canvas:!1,context:"string"==typeof t.context&&t.context})}var n,i,r=(n=p())&&n.hot;r&&(i=f(t.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var o=r&&"string"==typeof i;o&&Y.includes(i)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",i),o=!1);var s=Promise.resolve();if(o){Y.push(i);var a=function(e){var t=p();if(t)return t[W]=t[W]||{},t[W][e]}(i);if(a){var u=function(){var e,n=(e=a.manager,t.animate?{time:e.props.time}:void 0);return a.manager.destroy(),n};s=a.load.then(u).catch(u)}}return s.then((function(n){var r,s=new B;return e?(t=Object.assign({},t,n),s.setup(t),s.mount(),r=s.loadAndRun(e)):r=Promise.resolve(s),o&&function(e,t){var n=p();n&&(n[W]=n[W]||{},n[W][e]=t)}(i,{load:r,manager:s}),r}))}return K.canvasSketch=K,K.PaperSizes=D,K}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";t.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},{}],4:[function(e,t,n){(function(e){(function(){"use strict";var n=256,i=[],r=void 0===e?window:e,o=Math.pow(n,6),s=Math.pow(2,52),a=2*s,u=255,c=Math.random;function p(e){var t,i=e.length,r=this,o=0,s=r.i=r.j=0,a=r.S=[];for(i||(e=[i++]);o<n;)a[o]=o++;for(o=0;o<n;o++)a[o]=a[s=u&s+e[o%i]+(t=a[o])],a[s]=t;(r.g=function(e){for(var t,i=0,o=r.i,s=r.j,a=r.S;e--;)t=a[o=u&o+1],i=i*n+a[u&(a[o]=a[s=u&s+t])+(a[s]=t)];return r.i=o,r.j=s,i})(n)}function f(e,t){var n,i=[],r=(typeof e)[0];if(t&&"o"==r)for(n in e)try{i.push(f(e[n],t-1))}catch(e){}return i.length?i:"s"==r?e:e+"\0"}function d(e,t){for(var n,i=e+"",r=0;r<i.length;)t[u&r]=u&(n^=19*t[u&r])+i.charCodeAt(r++);return h(t)}function h(e){return String.fromCharCode.apply(0,e)}t.exports=function(e,u){if(u&&!0===u.global)return u.global=!1,Math.random=t.exports(e,u),u.global=!0,Math.random;var c=[],l=(d(f(u&&u.entropy||!1?[e,h(i)]:0 in arguments?e:function(e){try{return r.crypto.getRandomValues(e=new Uint8Array(n)),h(e)}catch(e){return[+new Date,r,r.navigator&&r.navigator.plugins,r.screen,h(i)]}}(),3),c),new p(c));return d(h(l.S),i),function(){for(var e=l.g(6),t=o,i=0;e<s;)e=(e+i)*n,t*=n,i=l.g(1);for(;e>=a;)e/=2,t/=2,i>>>=1;return(e+i)/t}},t.exports.resetGlobal=function(){Math.random=c},d(Math.random(),i)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){!function(){"use strict";var e=.5*(Math.sqrt(3)-1),i=(3-Math.sqrt(3))/6,r=1/6,o=(Math.sqrt(5)-1)/4,s=(5-Math.sqrt(5))/20;function a(e){var t;t="function"==typeof e?e:e?function(){var e=0,t=0,n=0,i=1,r=(o=4022871197,function(e){e=e.toString();for(var t=0;t<e.length;t++){var n=.02519603282416938*(o+=e.charCodeAt(t));n-=o=n>>>0,o=(n*=o)>>>0,o+=4294967296*(n-=o)}return 2.3283064365386963e-10*(o>>>0)});var o;e=r(" "),t=r(" "),n=r(" ");for(var s=0;s<arguments.length;s++)(e-=r(arguments[s]))<0&&(e+=1),(t-=r(arguments[s]))<0&&(t+=1),(n-=r(arguments[s]))<0&&(n+=1);return r=null,function(){var r=2091639*e+2.3283064365386963e-10*i;return e=t,t=n,n=r-(i=0|r)}}(e):Math.random,this.p=u(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function u(e){var t,n=new Uint8Array(256);for(t=0;t<256;t++)n[t]=t;for(t=0;t<255;t++){var i=t+~~(e()*(256-t)),r=n[t];n[t]=n[i],n[i]=r}return n}a.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,n){var r,o,s=this.permMod12,a=this.perm,u=this.grad3,c=0,p=0,f=0,d=(t+n)*e,h=Math.floor(t+d),l=Math.floor(n+d),m=(h+l)*i,y=t-(h-m),g=n-(l-m);y>g?(r=1,o=0):(r=0,o=1);var v=y-r+i,w=g-o+i,b=y-1+2*i,x=g-1+2*i,M=255&h,_=255&l,S=.5-y*y-g*g;if(S>=0){var E=3*s[M+a[_]];c=(S*=S)*S*(u[E]*y+u[E+1]*g)}var T=.5-v*v-w*w;if(T>=0){var k=3*s[M+r+a[_+o]];p=(T*=T)*T*(u[k]*v+u[k+1]*w)}var F=.5-b*b-x*x;if(F>=0){var R=3*s[M+1+a[_+1]];f=(F*=F)*F*(u[R]*b+u[R+1]*x)}return 70*(c+p+f)},noise3D:function(e,t,n){var i,o,s,a,u,c,p,f,d,h,l=this.permMod12,m=this.perm,y=this.grad3,g=.3333333333333333*(e+t+n),v=Math.floor(e+g),w=Math.floor(t+g),b=Math.floor(n+g),x=(v+w+b)*r,M=e-(v-x),_=t-(w-x),S=n-(b-x);M>=_?_>=S?(u=1,c=0,p=0,f=1,d=1,h=0):M>=S?(u=1,c=0,p=0,f=1,d=0,h=1):(u=0,c=0,p=1,f=1,d=0,h=1):_<S?(u=0,c=0,p=1,f=0,d=1,h=1):M<S?(u=0,c=1,p=0,f=0,d=1,h=1):(u=0,c=1,p=0,f=1,d=1,h=0);var E=M-u+r,T=_-c+r,k=S-p+r,F=M-f+2*r,R=_-d+2*r,P=S-h+2*r,j=M-1+.5,C=_-1+.5,D=S-1+.5,z=255&v,O=255&w,A=255&b,I=.6-M*M-_*_-S*S;if(I<0)i=0;else{var N=3*l[z+m[O+m[A]]];i=(I*=I)*I*(y[N]*M+y[N+1]*_+y[N+2]*S)}var H=.6-E*E-T*T-k*k;if(H<0)o=0;else{var L=3*l[z+u+m[O+c+m[A+p]]];o=(H*=H)*H*(y[L]*E+y[L+1]*T+y[L+2]*k)}var q=.6-F*F-R*R-P*P;if(q<0)s=0;else{var B=3*l[z+f+m[O+d+m[A+h]]];s=(q*=q)*q*(y[B]*F+y[B+1]*R+y[B+2]*P)}var U=.6-j*j-C*C-D*D;if(U<0)a=0;else{var W=3*l[z+1+m[O+1+m[A+1]]];a=(U*=U)*U*(y[W]*j+y[W+1]*C+y[W+2]*D)}return 32*(i+o+s+a)},noise4D:function(e,t,n,i){var r,a,u,c,p,f,d,h,l,m,y,g,v,w,b,x,M,_=this.perm,S=this.grad4,E=(e+t+n+i)*o,T=Math.floor(e+E),k=Math.floor(t+E),F=Math.floor(n+E),R=Math.floor(i+E),P=(T+k+F+R)*s,j=e-(T-P),C=t-(k-P),D=n-(F-P),z=i-(R-P),O=0,A=0,I=0,N=0;j>C?O++:A++,j>D?O++:I++,j>z?O++:N++,C>D?A++:I++,C>z?A++:N++,D>z?I++:N++;var H=j-(f=O>=3?1:0)+s,L=C-(d=A>=3?1:0)+s,q=D-(h=I>=3?1:0)+s,B=z-(l=N>=3?1:0)+s,U=j-(m=O>=2?1:0)+2*s,W=C-(y=A>=2?1:0)+2*s,Y=D-(g=I>=2?1:0)+2*s,K=z-(v=N>=2?1:0)+2*s,G=j-(w=O>=1?1:0)+3*s,Q=C-(b=A>=1?1:0)+3*s,Z=D-(x=I>=1?1:0)+3*s,J=z-(M=N>=1?1:0)+3*s,V=j-1+4*s,X=C-1+4*s,$=D-1+4*s,ee=z-1+4*s,te=255&T,ne=255&k,ie=255&F,re=255&R,oe=.6-j*j-C*C-D*D-z*z;if(oe<0)r=0;else{var se=_[te+_[ne+_[ie+_[re]]]]%32*4;r=(oe*=oe)*oe*(S[se]*j+S[se+1]*C+S[se+2]*D+S[se+3]*z)}var ae=.6-H*H-L*L-q*q-B*B;if(ae<0)a=0;else{var ue=_[te+f+_[ne+d+_[ie+h+_[re+l]]]]%32*4;a=(ae*=ae)*ae*(S[ue]*H+S[ue+1]*L+S[ue+2]*q+S[ue+3]*B)}var ce=.6-U*U-W*W-Y*Y-K*K;if(ce<0)u=0;else{var pe=_[te+m+_[ne+y+_[ie+g+_[re+v]]]]%32*4;u=(ce*=ce)*ce*(S[pe]*U+S[pe+1]*W+S[pe+2]*Y+S[pe+3]*K)}var fe=.6-G*G-Q*Q-Z*Z-J*J;if(fe<0)c=0;else{var de=_[te+w+_[ne+b+_[ie+x+_[re+M]]]]%32*4;c=(fe*=fe)*fe*(S[de]*G+S[de+1]*Q+S[de+2]*Z+S[de+3]*J)}var he=.6-V*V-X*X-$*$-ee*ee;if(he<0)p=0;else{var le=_[te+1+_[ne+1+_[ie+1+_[re+1]]]]%32*4;p=(he*=he)*he*(S[le]*V+S[le+1]*X+S[le+2]*$+S[le+3]*ee)}return 27*(r+a+u+c+p)}},a._buildPermutationTable=u,"undefined"!=typeof define&&define.amd&&define((function(){return a})),void 0!==n?n.SimplexNoise=a:"undefined"!=typeof window&&(window.SimplexNoise=a),void 0!==t&&(t.exports=a)}()},{}],6:[function(e,t,n){"use strict";var i=e("./inputReadFunctions.js"),r=e("./settings.js");const o=e("canvas-sketch"),s=e("canvas-sketch-util/random");let a,u=[];class c{constructor({x:e,y:t}){this.x=e,this.y=t}draw(e,t){e.save(),e.translate(this.x,this.y),e.fillStyle="white",e.beginPath(),e.arc(0,0,t,0,2*Math.PI),e.fill(),e.closePath(),e.restore()}}o((({width:e,height:t,exportFrame:n})=>{let o=r.userSettings.cols,p=r.userSettings.rows,f=o*p;const d=e*r.userSettings.size,h=e*r.userSettings.size;let l,m,y,g=d/o,v=h/p,w=.5*(e-d),b=.5*(t-h);return document.getElementById("matrixSizeSlider").addEventListener("input",(e=>{o=Number((0,i.readMatrixSize)()),p=Number((0,i.readMatrixSize)()),f=o*p,g=d/o,v=h/p,u=[],a.update()})),document.getElementById("frequencySlider").addEventListener("input",(e=>{r.userSettings.frequency=(0,i.readFrequency)(),u=[],a.update()})),document.getElementById("roundSizeSlider").addEventListener("input",(e=>{r.userSettings.roundSize=(0,i.readRoundSize)(),u=[],a.update()})),document.getElementById("amplitudeSlider").addEventListener("input",(e=>{r.userSettings.amplitude=(0,i.readAmplitude)(),u=[],a.update()})),document.getElementById("wavesSlider").addEventListener("input",(e=>{r.userSettings.waves=(0,i.readWaves)(),u=[],a.update()})),document.getElementById("restartSettings").addEventListener("click",(()=>{location.reload()})),document.getElementById("downloadDurves").addEventListener("click",(()=>{n()})),({context:e,width:t,height:n})=>{e.fillStyle="black",e.fillRect(0,0,t,n),e.save(),e.translate(w,b),e.translate(.5*g,.5*v),(()=>{for(let e=0;e<f;e++)l=e%o*g,m=Math.floor(e/o)*v,y=s.noise2D(l*r.userSettings.waves,m*r.userSettings.waves,r.userSettings.frequency,r.userSettings.amplitude),l+=y,m+=y,u.push(new c({x:l,y:m}))})(),u.forEach((t=>{t.draw(e,r.userSettings.roundSize)})),e.restore()}}),r.canvasSettings).then((e=>{a=e}))},{"./inputReadFunctions.js":7,"./settings.js":8,"canvas-sketch":2,"canvas-sketch-util/random":1}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.readWaves=n.readRoundSize=n.readMatrixSize=n.readFrequency=n.readAmplitude=void 0;n.readMatrixSize=()=>{var e=document.getElementById("matrixSizeSlider"),t=document.getElementById("valueMatrixSize");return t.innerHTML=e.value+" x "+e.value,e.oninput=function(){t.innerHTML=this.value},e.value};n.readRoundSize=()=>{var e=document.getElementById("roundSizeSlider"),t=document.getElementById("valueRoundSize");return t.innerHTML=e.value,e.oninput=function(){t.innerHTML=this.value},e.value};n.readAmplitude=()=>{var e=document.getElementById("amplitudeSlider"),t=document.getElementById("valueAmplitude");return t.innerHTML=e.value,e.oninput=function(){t.innerHTML=this.value},e.value};n.readFrequency=()=>{var e=document.getElementById("frequencySlider"),t=document.getElementById("valueFrequency");return t.innerHTML=e.value,e.oninput=function(){t.innerHTML=this.value},e.value};n.readWaves=()=>{var e=document.getElementById("wavesSlider"),t=document.getElementById("valueWaves");return t.innerHTML=e.value,e.oninput=function(){t.innerHTML=this.value},e.value}},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.userSettings=n.canvasSettings=void 0;var i=e("./inputReadFunctions.js");n.canvasSettings={dimensions:[4320,4320],encoding:"image/png",encodingQuality:1,pixelsPerInch:300,prefix:"my-durves"};const r={cols:(0,i.readMatrixSize)(),rows:(0,i.readMatrixSize)(),size:.85,position:.5,roundSize:(0,i.readRoundSize)(),amplitude:(0,i.readAmplitude)(),waves:(0,i.readWaves)(),frequency:(0,i.readFrequency)()};n.userSettings=r},{"./inputReadFunctions.js":7}],9:[function(e,t,n){(function(e){(function(){e.CANVAS_SKETCH_DEFAULT_STORAGE_KEY=window.location.href}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[6,9]);
//# sourceMappingURL=index.js.map
